<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head lang="en" th:replace="base/header :: head">
        <title>Hanger</title>
    </head>
    <body>
        <th:block th:include="base/header :: navbar"></th:block>
        <div class="container-fluid main-content">
            <div>           
                <form class="form-horizontal" th:object="${server}" th:action="@{/server/save}" method="post">
                    <div class="form-group">
                        <div class="col-sm-10">
                            <input type="hidden" class="form-control" th:field="*{id}"/>
                        </div>
                    </div>

                    <div th:if="${ errorMessage != null }" class="form-group">
                        <!--Validation-->
                        <div class="col-sm-10">
                            <div class="alert alert-danger" role="alert">
                                <span th:text="${errorMessage}"></span>
                            </div>  
                        </div> 
                    </div> 

                    <label>Name</label> 
                    <div class="form-group">
                        <div class="col-sm-10">
                            <input type="text" class="form-control" maxlength="50" th:field="*{name}" placeholder="Server name"/>
                            <span th:if="${#fields.hasErrors('name')}" class="help-block" th:errors="*{name}"></span>
                        </div>
                    </div>

                    <label>URL</label> 
                    <div class="form-group">
                        <div class="col-sm-10">
                            <input type="text" class="form-control" maxlength="255" th:field="*{url}" placeholder="Server URL"/>
                            <span th:if="${#fields.hasErrors('url')}" class="help-block" th:errors="*{url}"></span>
                        </div>
                    </div>

                    <label>Username</label> 
                    <div class="form-group">
                        <div class="col-sm-10">
                            <input type="text" class="form-control" maxlength="50" th:field="*{username}" placeholder="Username"/>
                            <span th:if="${#fields.hasErrors('username')}" class="help-block" th:errors="*{username}"></span>
                        </div>
                    </div>  

                    <label>Token</label> 
                    <div class="form-group">
                        <div class="col-sm-10">
                            <input type="text" class="form-control" maxlength="32" th:field="*{token}" placeholder="Token"/>
                            <span th:if="${#fields.hasErrors('token')}" class="help-block" th:errors="*{token}"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-sm-10">
                            <button type="submit" class="btn btn-generic btn-sm">
                                <span class="glyphicon glyphicon-save" aria-hidden="true"></span> Save
                            </button>
                        </div>
                    </div>

                    <div th:if="*{ updatedAt != null }">
                        <hr/>

                        <!--Tracker-->
                        <div class="form-group">                        
                            <div class="col-sm-10">
                                <label class="pull-right label-edit-information" th:inline="text">Updated by [[*{modifiedBy}]] at [[*{#dates.format(updatedAt, 'yyyy-MM-dd HH:mm:ss')}]]</label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </body>
</html>